<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï†ÑÍ∏∞Í≥ÑÏÇ∞Í∏∞ Pro - Premium UI</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <style>
        :root {
            --primary: #3b82f6;
            --primary-glow: rgba(59, 130, 246, 0.5);
            --accent: #60a5fa;
            --bg-dark: #020617;
            --card-bg: #0f172a;
            --input-bg: #1e293b;
            --border: #334155;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --danger: #ef4444;
        }

        body {
            font-family: 'Pretendard', -apple-system, sans-serif;
            background-color: var(--bg-dark);
            background-image: radial-gradient(circle at top right, #1e1b4b, transparent),
                              radial-gradient(circle at bottom left, #0f172a, transparent);
            color: var(--text-main);
            margin: 0;
            padding: 20px 10px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 420px;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border);
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        /* Ìó§Îçî Ïä§ÌÉÄÏùºÎßÅ */
        .header {
            padding: 24px 20px;
            text-align: center;
            background: linear-gradient(to bottom, rgba(59, 130, 246, 0.1), transparent);
            border-bottom: 1px solid var(--border);
        }
        .header h2 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 800;
            background: linear-gradient(to right, #60a5fa, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .header p {
            margin: 6px 0 0;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .content { padding: 20px; }

        /* ÏûÖÎ†• ÏÑπÏÖò Ïπ¥ÎìúÌôî */
        .section-card {
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .input-group { margin-bottom: 16px; }
        .input-group:last-child { margin-bottom: 0; }
        
        label {
            display: flex;
            align-items: center;
            font-size: 0.75rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        select, input {
            width: 100%;
            padding: 12px 14px;
            background: var(--input-bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-main);
            font-size: 0.95rem;
            transition: all 0.2s ease;
        }
        select:focus, input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px var(--primary-glow);
            outline: none;
        }

        .row { display: flex; gap: 12px; }
        .col-7 { flex: 0 0 60%; }
        .col-3 { flex: 1; }

        /* Ïù¥ÎØ∏ÏßÄ ÏòÅÏó≠ ÌîÑÎ¶¨ÎØ∏ÏóÑÌôî */
        .visual-box {
            margin: 10px -16px -16px -16px;
            border-top: 1px solid var(--border);
            background: #000;
            display: none;
        }
        .visual-box.active { display: block; }

        .img-wrap {
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: zoom-in;
            position: relative;
        }
        .img-wrap:first-child { border-bottom: 1px solid #1e293b; }
        .method-img { width: 100%; height: 100%; object-fit: contain; }

        .badge {
            position: absolute; top: 12px; left: 12px;
            background: rgba(59, 130, 246, 0.9);
            color: white; font-size: 10px; font-weight: bold;
            padding: 4px 8px; border-radius: 6px;
            backdrop-filter: blur(4px);
        }

        /* Î≤ÑÌäº Ïï†ÎãàÎ©îÏù¥ÏÖò */
        .btn-calc {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 1rem;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 10px 20px -10px var(--primary-glow);
            transition: all 0.3s ease;
        }
        .btn-calc:hover { transform: translateY(-2px); box-shadow: 0 15px 30px -10px var(--primary-glow); }
        .btn-calc:active { transform: translateY(0); }

        /* Í≤∞Í≥º ÌôîÎ©¥ ÎîîÏûêÏù∏ (ÎåÄÏãúÎ≥¥Îìú ÎäêÎÇå) */
        .result-dashboard {
            margin-top: 24px;
            padding: 20px;
            background: linear-gradient(145deg, #1e293b, #0f172a);
            border-radius: 20px;
            border: 1px solid var(--primary);
            display: none;
            animation: fadeIn 0.4s ease-out;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
        .stat-item { padding: 12px; background: rgba(255,255,255,0.03); border-radius: 12px; border: 1px solid rgba(255,255,255,0.05); }
        .stat-label { font-size: 0.7rem; color: var(--text-muted); margin-bottom: 4px; display: block; }
        .stat-value { font-size: 1.1rem; font-weight: 700; color: var(--text-main); }

        .hero-result {
            text-align: center;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }
        .hero-label { font-size: 0.8rem; color: var(--accent); font-weight: bold; }
        .hero-sq { font-size: 3rem; font-weight: 900; color: #f87171; margin: 5px 0; letter-spacing: -1px; text-shadow: 0 0 20px rgba(248,113,113,0.4); }

        /* Î™®Îã¨ ÌåùÏóÖ */
        #modal { display: none; position: fixed; z-index: 2000; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); justify-content: center; align-items: center; }
        #modal img { max-width: 100%; max-height: 90%; object-fit: contain; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h2>Premium Electric Pro</h2>
        <p>KEC Standards Compliant ‚Ä¢ v1.5</p>
    </div>
    
    <div class="content">
        <div class="section-card">
            <div class="input-group">
                <label>üìç Installation Method</label>
                <select id="method" onchange="updateView()">
                    <option value="B1" selected>B1 (Conduit in Wall)</option>
                    <option value="A1">A1 (Conduit in Insulated Wall)</option>
                    <option value="C">C (Surface Mount / Tray)</option>
                    <option value="E">E (Free Air / Ladder)</option>
                </select>
                <div id="group-B1" class="visual-box active">
                    <div class="img-wrap" onclick="openModal('b1_1.png')"><img src="b1_1.png" class="method-img"><span class="badge">DIAGRAM</span></div>
                    <div class="img-wrap" onclick="openModal('b1_2.png')"><img src="b1_2.png" class="method-img"><span class="badge">SITE</span></div>
                </div>
                <div id="group-A1" class="visual-box">
                    <div class="img-wrap" onclick="openModal('a1_1.png')"><img src="a1_1.png" class="method-img"><span class="badge">DIAGRAM</span></div>
                    <div class="img-wrap" onclick="openModal('a1_2.png')"><img src="a1_2.png" class="method-img"><span class="badge">SITE</span></div>
                </div>
                <div id="group-C" class="visual-box">
                    <div class="img-wrap" onclick="openModal('c_1.png')"><img src="c_1.png" class="method-img"></div>
                    <div class="img-wrap" onclick="openModal('c_2.png')"><img src="c_2.png" class="method-img"></div>
                </div>
                <div id="group-E" class="visual-box">
                    <div class="img-wrap" onclick="openModal('e_1.png')"><img src="e_1.png" class="method-img"></div>
                    <div class="img-wrap" onclick="openModal('e_2.png')"><img src="e_2.png" class="method-img"></div>
                </div>
            </div>
        </div>

        <div class="section-card">
            <div class="row">
                <div class="col-7">
                    <label>üå°Ô∏è Temp Condition</label>
                    <select id="temp">
                        <option value="1.00">30‚ÑÉ ÌôòÍ≤Ω</option>
                        <option value="0.91" selected>40‚ÑÉ ÌôòÍ≤Ω</option>
                        <option value="0.82">50‚ÑÉ ÌôòÍ≤Ω</option>
                    </select>
                </div>
                <div class="col-3">
                    <label>‚ö° Voltage</label>
                    <select id="voltage">
                        <option value="380">380V</option>
                        <option value="220">220V</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="section-card">
            <div class="row">
                <div class="col-7">
                    <label>Load Power (kW)</label>
                    <input type="number" id="power" value="30">
                </div>
                <div class="col-3">
                    <label>CosœÜ</label>
                    <input type="number" id="pf" value="0.85" step="0.01">
                </div>
            </div>
        </div>

        <button class="btn-calc" onclick="calculate()">RUN CALCULATION</button>

        <div id="result" class="result-dashboard">
            <div class="stat-grid">
                <div class="stat-item">
                    <span class="stat-label">Design Current ($I_B$)</span>
                    <span class="stat-value" id="resIb">0.0 A</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Breaker Rating ($I_n$)</span>
                    <span class="stat-value" id="resIn" style="color:var(--primary);">0 A</span>
                </div>
            </div>
            <div class="hero-result">
                <span class="hero-label">RECOMMENDED CV SIZE</span>
                <div class="hero-sq" id="resSq">-- SQ</div>
                <p style="margin:0; font-size:0.7rem; color:var(--text-muted);">Iz: <span id="resIz">0.0</span>A Í∏∞Ï§Ä ÏÑ†Ï†ï</p>
            </div>
        </div>
    </div>
</div>

<div id="modal" onclick="closeModal()"><img id="modal-img" src=""></div>

<script>
function updateView() {
    const val = document.getElementById('method').value;
    document.querySelectorAll('.visual-box').forEach(el => el.classList.remove('active'));
    document.getElementById('group-' + val).classList.add('active');
}

function openModal(src) {
    const modal = document.getElementById('modal');
    document.getElementById('modal-img').src = src;
    modal.style.display = 'flex';
}
function closeModal() { document.getElementById('modal').style.display = 'none'; }

const cableData = {
    "A1": { 2.5: 21, 4: 28, 6: 36, 10: 49, 16: 66, 25: 86, 35: 103, 50: 125, 70: 151 },
    "B1": { 2.5: 26, 4: 35, 6: 45, 10: 61, 16: 82, 25: 108, 35: 135, 50: 168, 70: 207 },
    "C":  { 2.5: 31, 4: 41, 6: 53, 10: 74, 16: 99, 25: 131, 35: 162, 50: 197, 70: 246 },
    "E":  { 2.5: 33, 4: 43, 6: 56, 10: 77, 16: 104, 25: 138, 35: 171, 50: 209, 70: 262 }
};
const mccb = [15, 20, 30, 40, 50, 60, 75, 100, 125, 150, 175, 200, 225, 250, 400];

function calculate() {
    const method = document.getElementById('method').value;
    const P = parseFloat(document.getElementById('power').value);
    const V = parseInt(document.getElementById('voltage').value);
    const pf = parseFloat(document.getElementById('pf').value);
    const kt = parseFloat(document.getElementById('temp').value);
    
    let ib = (V === 380) ? (P * 1000) / (Math.sqrt(3) * V * pf) : (P * 1000) / (V * pf);
    let in_rating = mccb.find(r => r >= ib) || "N/A";
    
    let selectedSq = "EXCESS";
    let finalIz = 0;
    const currentTable = cableData[method];
    for (const [sq, amp] of Object.entries(currentTable)) {
        let iz = amp * kt;
        if (iz >= in_rating) {
            selectedSq = sq + " SQ";
            finalIz = iz;
            break;
        }
    }

    document.getElementById('resIb').innerText = ib.toFixed(1) + " A";
    document.getElementById('resIn').innerText = in_rating + " A";
    document.getElementById('resIz').innerText = finalIz.toFixed(1);
    document.getElementById('resSq').innerText = selectedSq;
    document.getElementById('result').style.display = 'block';
}
</script>
</body>
</html>
